# GLSL着色器语言

---

* #### 什么是GLSL

  GLSL（OpenGL Shading Language）OpenGL着色器语言。

  是一种类C语言，给开发者提供控制渲染管线的功能。

* #### GLSL数据类型

  1. **基本数据类型**
     | 数据类型 | 描述 |
     | :--- | :--- |
     | void | 空类型\(同C语言\) |
     | bool | 布尔类型\(同C语言\) |
     | int | 带符号的整数类型 |
     | float | 带符号的浮点数类型 |
  2. **结构体、数组**
     | 类型 | 描述 |
     | :--- | :--- |
     | struct | 同C语言 |
     | 数组 | GLSL只支持1维数组，同C语言 |
  3. **向量**
     | 类型 | 描述 |
     | :--- | :--- |
     | bvec2,bvec3,bvec4 | n维bool型向量 |
     | ivec2,ivec3,ivec4 | n维int型向量 |
     | vec2,vec3,vec3 | n维float型向量 |
  4. **矩阵**
     | 类型 | 描述 |
     | :--- | :--- |
     | mat2 | 2×2矩阵 |
     | mat3 | 3×3矩阵 |
     | mat4 | 4×4矩阵 |
  5. **采样器**  
     \| 类型 \| 描述 \|  
     \| :--- \| :--- \|  
     \| sampler2D \| 2D纹理采样器 \|  
     \| sampler3D \| 3D纹理采样器 \|  
     \| samplerCube \| 立方体映射纹理采样器 \|

     注：sampler3D并不是在所有的OpenGLES中支持。（如果需要使用，需要在着色器代码中打开相应的拓展功能）

* #### GLSL修饰符

  1. GLSL变量修饰符
     | 修饰符 | 作用 |
     | :--- | :--- |
     | none | \(默认的可省略\)本地变量,可读可写,函数的输入参数既是这种类型 |
     | attribute | 只能存在于vertex shader中,一般用于保存顶点或法线数据,它可以在数据缓冲区中读取数据 |
     | uniform | 被uniform修饰的变量，除非重置或更新，否则值不会变。 |
     | varing | 顶点、片元着色器之间数据传递，需要顶点着色器中的变量名和片元着色器中的变量名相同。 |
     | const | 同C语言。 |
  2. GLSL函数参数修饰符
     | 修饰符 | 作用 |
     | :--- | :--- |
     | in | 复制到函数中在函数中可读写 |
     | out | 返回时从函数中复制出来 |
     | inout | 复制到函数中并在返回时复制出来 |

* #### GLSL运算符

  同C语言\(+,-,\*,/,\|,&...\)。

* #### GLSL流程控制

   同C语言（if,else,for,while...）。
   注：discard：丢弃当前片元（片元着色器特有）。

* #### GLSL函数

  格式：返回类型 函数名\(参数列表\)  
   注：没有修饰符。



